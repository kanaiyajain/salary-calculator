<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Invoice Generator</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 20mm 15mm;
      color: #333;
    }
    .invoice-box {
      max-width: 800px;
      margin: auto;
      padding: 30px;
      border: 1px solid #eee;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);
    }
    h1 {
      color: #003366;
      text-align: right;
    }
    input, textarea {
      width: 100%;
      padding: 5px;
      margin: 5px 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    table th, table td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
    }
    .right {
      text-align: right;
    }
    .signature {
      margin-top: 50px;
      height: 80px;
      border-top: 1px solid #000;
      width: 200px;
      text-align: center;
    }
    @media print {
      body {
        margin: 10mm;
      }
    }
  </style>
</head>
<body>
  <div class="invoice-box" id="invoice">
    <h1>INVOICE</h1>
    <p><strong>To:</strong> Redcoupons Private Limited<br>
    Ward No. 29, Pani Tanki Ke Pass, Nokha, Bikaner, Nokha, Rajasthan, India, 334803<br>
    CIN: U73100RJ2024PTC098563</p>

    <label>Invoice Issuer Name:</label>
    <input type="text" id="issuerName" placeholder="Your Name">

    <label>Issuer Address:</label>
    <textarea id="issuerAddress" placeholder="Your Address"></textarea>

    <label>PAN Card:</label>
    <input type="text" id="panCard" placeholder="BLANK">

    <label>Bank Name:</label>
    <input type="text" id="bankName">

    <label>Account Number:</label>
    <input type="text" id="accountNumber" placeholder="BLANK">

    <label>IFSC Code:</label>
    <input type="text" id="ifscCode" placeholder="BLANK">

    <label>Invoice Date:</label>
    <input type="date" id="invoiceDate">

    <label>Invoice Number:</label>
    <input type="text" id="invoiceNumber" placeholder="">

    <table>
      <thead>
        <tr>
          <th>Description</th>
          <th>Qty</th>
          <th>Price (₹)</th>
          <th>Amount (₹)</th>
        </tr>
      </thead>
      <tbody id="items">
        <tr>
          <td><input type="text" value="Online Content Writing for Month /2025"></td>
          <td><input type="number" value="1"></td>
          <td><input type="number" value="0"></td>
          <td class="right">₹0.00</td>
        </tr>
      </tbody>
    </table>

    <p class="right"><strong>Sub Total: ₹<span id="subtotal">0.00</span></strong></p>
    <p><strong>Total in Words:</strong> <span id="amountWords">Zero Rupees Only</span></p>

    <h3>Payment Information</h3>
    <p id="paymentInfo"></p>

    <div class="signature">Signature of Issuer</div>
    <button onclick="generatePDF()">Generate Invoice PDF</button>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    function formatINR(num) {
      return new Intl.NumberFormat('en-IN', {
        style: 'currency',
        currency: 'INR'
      }).format(num);
    }

    function numberToWords(num) {
      const a = ["", "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine"];
      const b = ["", "", "Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"];
      const c = ["Ten", "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen", "Eighteen", "Nineteen"];
      if (num === 0) return "Zero Rupees Only";
      let words = "";
      if (num > 99) {
        words += a[Math.floor(num / 100)] + " Hundred ";
        num %= 100;
      }
      if (num > 19) {
        words += b[Math.floor(num / 10)] + " " + a[num % 10];
      } else if (num >= 10) {
        words += c[num - 10];
      } else {
        words += a[num];
      }
      return words.trim() + " Rupees Only";
    }

    function updateTotals() {
      let rows = document.querySelectorAll("#items tr");
      let total = 0;
      rows.forEach(row => {
        let qty = parseFloat(row.cells[1].querySelector("input").value) || 0;
        let price = parseFloat(row.cells[2].querySelector("input").value) || 0;
        let amount = qty * price;
        row.cells[3].innerText = formatINR(amount);
        total += amount;
      });
      document.getElementById("subtotal").innerText = total.toFixed(2);
      document.getElementById("amountWords").innerText = numberToWords(Math.round(total));
    }

    document.querySelectorAll("#items input").forEach(input => {
      input.addEventListener("input", updateTotals);
    });

    function generatePDF() {
      updateTotals();
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF({ orientation: "portrait", unit: "mm", format: "a4" });
      doc.setFont("Helvetica");
      doc.html(document.getElementById("invoice"), {
        callback: function (doc) {
          doc.save("Invoice.pdf");
        },
        x: 10,
        y: 10,
        width: 190,
        windowWidth: 800
      });
    }

    document.getElementById("bankName").addEventListener("input", () => {
      let info = `
        Bank: ${document.getElementById("bankName").value}<br>
        Account No.: ${document.getElementById("accountNumber").value}<br>
        IFSC: ${document.getElementById("ifscCode").value}<br>
        PAN: ${document.getElementById("panCard").value}
      `;
      document.getElementById("paymentInfo").innerHTML = info;
    });
  </script>
</body>
</html>
